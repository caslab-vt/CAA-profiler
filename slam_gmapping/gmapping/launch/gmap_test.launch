<?xml version="1.0"?>

<launch>

<param name="/use_sim_time" value="true"/>

<!--<node name="rosplay" pkg="rosbag" type="play" args="/home/2011-04-01-14-19-39.bag  -$-clock"/>-->

    <node pkg="tf" type="static_transform_publisher" name="baselink_laser" args="0 0 0 0 0 0 /base_link /front_laser 10"/>
    <node pkg="tf" type="static_transform_publisher" name="odom_map_broadcaster" args="0 0 0 0 0 0 /world /map 10"/> 
<!--    <node pkg="tf" type="static_transform_publisher" name="baselink_laser" args="0 0 0 0 0 0 /base_link /laser 10"/>-->
<!--    <node pkg="tf" type="static_transform_publisher" name="laser_imu" args="0 0 0 0 0 0 /base_link /base_imu 10"/>-->
<!--    <node pkg="tf" type="static_transform_publisher" name="laser_imu" args="0 0 0 0 0 0 /base_imu /chasis_link 10"/>-->
    
<!--    -->
<!--    <node name="static_tf0" pkg="tf" type="static_transform_publisher" args="1 0 0 0 0 0  /world /map 100"/>-->
<!--    <node name="static_tf1" pkg="tf" type="static_transform_publisher" args="1 0 0 0 0 0  /laser /map 10"/>-->


<!--#########  DISABLE this for velodyne scan-->
   <node pkg="tf" type="static_transform_publisher" name="base_frame_to_odom" args="5.0 0.0 0.0 0.0 0.0 0.0 /odom /base_link 10" />

<!--#########  ENABLE this for velodyne scan-->
    <!--node name="static_tf2" pkg="tf" type="static_transform_publisher" args="0 0 1 0 0 0  /laser /velodyne 100"/-->

    <node pkg="gmapping" type="slam_gmapping" name="slam_gmapping" output="screen">
    <param name="base_frame" value="base_link"/>
    <param name="odom_frame" value="odom"/>
    <param name="map_frame" value="map"/>
<!--    <rosparam>-->
<!--      odom_frame: odom-->
<!--      map_update_interval: 0.5-->
<!--      maxUrange: 30.0-->
<!--      maxRange: 60.0-->
<!--      sigma: 0.05-->
<!--      kernelSize: 1-->
<!--      lstep: 0.05-->
<!--      astep: 0.05-->
<!--      iterations: 5-->
<!--      lsigma: 0.075-->
<!--      ogain: 3.0-->
<!--      lskip: 0-->
<!--      linearUpdate: 0.5-->
<!--      angularUpdate: 0.436-->
<!--      temporalUpdate: -1.0-->
<!--      resampleThreshold: 0.5-->
<!--      particles: 80-->
<!--      xmin: -1000.0-->
<!--      ymin: -1000.0-->
<!--      xmax: 1000.0-->
<!--      ymax: 1000.0-->
<!--      delta: 0.025-->
<!--      llsamplerange: 0.01-->
<!--      llsamplestep: 0.01-->
<!--      lasamplerange: 0.005-->
<!--      lasamplestep: 0.005-->
<!--      base_frame: base_link-->
<!--    </rosparam>-->

</node>

<!-- Start an rviz node with a custom configuration for the viewpoint, map_server, trajectory, laser scans, etc -->
<node pkg="rviz" type="rviz" output="screen" name="rviz" />

</launch>
